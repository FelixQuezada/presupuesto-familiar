<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presupuesto Familiar</title>
</head>
<body style="font-family: Arial, sans-serif; max-width: 1200px; margin: 0 auto; padding: 20px; background-color: #f5f5f5;">

    <h1 style="text-align: center; color: #333; margin-bottom: 30px;">üí∞ Mi Presupuesto Familiar</h1>
    
    <div style="margin-bottom: 20px;">
        <label>Mes: </label>
        <select id="mes" onchange="cambiarMes()" style="padding: 8px; margin-right: 15px;">
            <option value="Enero">Enero</option>
            <option value="Febrero">Febrero</option>
            <option value="Marzo">Marzo</option>
            <option value="Abril">Abril</option>
            <option value="Mayo">Mayo</option>
            <option value="Junio">Junio</option>
            <option value="Julio">Julio</option>
            <option value="Agosto">Agosto</option>
            <option value="Septiembre">Septiembre</option>
            <option value="Octubre">Octubre</option>
            <option value="Noviembre">Noviembre</option>
            <option value="Diciembre">Diciembre</option>
        </select>
        
        <button onclick="guardar()" style="padding: 8px 15px; background: #28a745; color: white; border: none; border-radius: 4px; margin-right: 10px; cursor: pointer;">üíæ Guardar</button>
        <button onclick="limpiar()" style="padding: 8px 15px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer;">üóëÔ∏è Limpiar Mes</button>
    </div>

    <!-- RESUMEN -->
    <div style="display: flex; gap: 15px; margin-bottom: 30px; flex-wrap: wrap;">
        <div style="background: white; padding: 20px; border-radius: 8px; text-align: center; min-width: 150px;">
            <div style="color: #666; font-size: 12px;">INGRESOS</div>
            <div style="font-size: 24px; font-weight: bold; color: #007bff;">S/ 9,400</div>
        </div>
        <div style="background: white; padding: 20px; border-radius: 8px; text-align: center; min-width: 150px;">
            <div style="color: #666; font-size: 12px;">PRESUPUESTADO</div>
            <div style="font-size: 24px; font-weight: bold; color: #ff8c00;">S/ 12,869</div>
        </div>
        <div style="background: white; padding: 20px; border-radius: 8px; text-align: center; min-width: 150px;">
            <div style="color: #666; font-size: 12px;">GASTO REAL</div>
            <div id="totalReal" style="font-size: 24px; font-weight: bold; color: #6f42c1;">S/ 0</div>
        </div>
        <div style="background: white; padding: 20px; border-radius: 8px; text-align: center; min-width: 150px;">
            <div style="color: #666; font-size: 12px;">SALDO</div>
            <div id="saldo" style="font-size: 24px; font-weight: bold;">S/ 9,400</div>
        </div>
    </div>

    <!-- VIVIENDA -->
    <div style="background: white; margin-bottom: 20px; border-radius: 8px; overflow: hidden;">
        <h3 style="background: #343a40; color: white; margin: 0; padding: 15px;">üè† VIVIENDA</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Departamento</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 2,485</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g1" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Luz</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 250</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g2" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Mantenimiento</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 250</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g3" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px;">Internet Casa</td>
                <td style="padding: 10px; text-align: center;">S/ 130</td>
                <td style="padding: 10px; text-align: center;">
                    <input type="number" id="g4" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
        </table>
    </div>

    <!-- DEUDAS -->
    <div style="background: white; margin-bottom: 20px; border-radius: 8px; overflow: hidden;">
        <h3 style="background: #dc3545; color: white; margin: 0; padding: 15px;">üí≥ DEUDAS</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Pr√©stamo</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 1,600</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g5" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px;">Tarjetas</td>
                <td style="padding: 10px; text-align: center;">S/ 650</td>
                <td style="padding: 10px; text-align: center;">
                    <input type="number" id="g6" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
        </table>
    </div>

    <!-- EDUCACI√ìN -->
    <div style="background: white; margin-bottom: 20px; border-radius: 8px; overflow: hidden;">
        <h3 style="background: #007bff; color: white; margin: 0; padding: 15px;">üéì EDUCACI√ìN</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Colegios</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 825</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g7" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">UPC-Beto</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 925</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g8" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px;">UPC-Yass</td>
                <td style="padding: 10px; text-align: center;">S/ 1,306</td>
                <td style="padding: 10px; text-align: center;">
                    <input type="number" id="g9" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
        </table>
    </div>

    <!-- ALIMENTACI√ìN -->
    <div style="background: white; margin-bottom: 20px; border-radius: 8px; overflow: hidden;">
        <h3 style="background: #28a745; color: white; margin: 0; padding: 15px;">üçΩÔ∏è ALIMENTACI√ìN</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Comidas</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 1,200</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g10" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Desayunos</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 140</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g11" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px;">Huevos</td>
                <td style="padding: 10px; text-align: center;">S/ 50</td>
                <td style="padding: 10px; text-align: center;">
                    <input type="number" id="g12" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
        </table>
    </div>

    <!-- PERSONAL -->
    <div style="background: white; margin-bottom: 20px; border-radius: 8px; overflow: hidden;">
        <h3 style="background: #6f42c1; color: white; margin: 0; padding: 15px;">üë§ PERSONAL</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Compras Mensuales</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 550</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g13" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Barbero</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 105</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g14" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Gimnasios</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 220</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g15" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px;">U√±as Carol</td>
                <td style="padding: 10px; text-align: center;">S/ 100</td>
                <td style="padding: 10px; text-align: center;">
                    <input type="number" id="g16" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
        </table>
    </div>

    <!-- COMUNICACIONES -->
    <div style="background: white; margin-bottom: 20px; border-radius: 8px; overflow: hidden;">
        <h3 style="background: #17a2b8; color: white; margin: 0; padding: 15px;">üì± COMUNICACIONES</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Cel Beto</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 79</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g17" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Cel Carol</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 37</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g18" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px;">Cel Yassell</td>
                <td style="padding: 10px; text-align: center;">S/ 37</td>
                <td style="padding: 10px; text-align: center;">
                    <input type="number" id="g19" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
        </table>
    </div>

    <!-- TRANSPORTE -->
    <div style="background: white; margin-bottom: 20px; border-radius: 8px; overflow: hidden;">
        <h3 style="background: #fd7e14; color: white; margin: 0; padding: 15px;">üöó TRANSPORTE</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Transporte Yassell</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 100</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g20" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px;">Combustible</td>
                <td style="padding: 10px; text-align: center;">S/ 400</td>
                <td style="padding: 10px; text-align: center;">
                    <input type="number" id="g21" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
        </table>
    </div>

    <!-- ENTRETENIMIENTO Y DEPORTES -->
    <div style="background: white; margin-bottom: 20px; border-radius: 8px; overflow: hidden;">
        <h3 style="background: #e83e8c; color: white; margin: 0; padding: 15px;">üéÆ ENTRETENIMIENTO & DEPORTES</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Entretenimientos</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 200</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g22" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px;">Diamante (F√∫tbol)</td>
                <td style="padding: 10px; text-align: center;">S/ 470</td>
                <td style="padding: 10px; text-align: center;">
                    <input type="number" id="g23" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
        </table>
    </div>

    <!-- MASCOTAS -->
    <div style="background: white; margin-bottom: 20px; border-radius: 8px; overflow: hidden;">
        <h3 style="background: #20c997; color: white; margin: 0; padding: 15px;">üêï MASCOTAS</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #eee;">Comida Perros</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">S/ 480</td>
                <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: center;">
                    <input type="number" id="g24" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
            <tr>
                <td style="padding: 10px;">Ba√±o Perros</td>
                <td style="padding: 10px; text-align: center;">S/ 80</td>
                <td style="padding: 10px; text-align: center;">
                    <input type="number" id="g25" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
        </table>
    </div>

    <!-- OTROS -->
    <div style="background: white; margin-bottom: 20px; border-radius: 8px; overflow: hidden;">
        <h3 style="background: #6c757d; color: white; margin: 0; padding: 15px;">üì¶ OTROS</h3>
        <table style="width: 100%; border-collapse: collapse;">
            <tr>
                <td style="padding: 10px;">Gastos Hormiga</td>
                <td style="padding: 10px; text-align: center;">S/ 200</td>
                <td style="padding: 10px; text-align: center;">
                    <input type="number" id="g26" onchange="calcular()" style="width: 80px; padding: 5px; text-align: center;">
                </td>
            </tr>
        </table>
    </div>

    <div id="alerta" style="background: #f8d7da; color: #721c24; padding: 15px; border-radius: 5px; margin-top: 20px; display: none;">
        <strong>‚ö†Ô∏è ¬°Atenci√≥n!</strong> Est√°s excediendo tu presupuesto.
    </div>

    <script>
        let mesActual = 'Enero';
        let datos = {};

        // Cargar datos guardados
        function cargarDatos() {
            const guardado = localStorage.getItem('presupuesto-simple');
            if (guardado) {
                datos = JSON.parse(guardado);
                if (datos[mesActual]) {
                    for (let i = 1; i <= 26; i++) {
                        const input = document.getElementById('g' + i);
                        if (input && datos[mesActual]['g' + i]) {
                            input.value = datos[mesActual]['g' + i];
                        }
                    }
                    calcular();
                }
            }
        }

        // Guardar datos
        function guardar() {
            if (!datos[mesActual]) datos[mesActual] = {};
            
            for (let i = 1; i <= 26; i++) {
                const input = document.getElementById('g' + i);
                if (input && input.value) {
                    datos[mesActual]['g' + i] = parseFloat(input.value);
                }
            }
            
            localStorage.setItem('presupuesto-simple', JSON.stringify(datos));
            alert('‚úÖ Datos guardados para ' + mesActual);
        }

        // Limpiar mes
        function limpiar() {
            if (confirm('¬øLimpiar todos los datos de ' + mesActual + '?')) {
                for (let i = 1; i <= 26; i++) {
                    const input = document.getElementById('g' + i);
                    if (input) input.value = '';
                }
                if (datos[mesActual]) delete datos[mesActual];
                localStorage.setItem('presupuesto-simple', JSON.stringify(datos));
                calcular();
            }
        }

        // Cambiar mes
        function cambiarMes() {
            guardar(); // Auto-guardar antes de cambiar
            mesActual = document.getElementById('mes').value;
            
            // Limpiar campos
            for (let i = 1; i <= 26; i++) {
                const input = document.getElementById('g' + i);
                if (input) input.value = '';
            }
            
            // Cargar datos del nuevo mes
            cargarDatos();
        }

        // Calcular totales
        function calcular() {
            let total = 0;
            
            for (let i = 1; i <= 26; i++) {
                const input = document.getElementById('g' + i);
                if (input && input.value) {
                    total += parseFloat(input.value) || 0;
                }
            }
            
            const saldo = 9400 - total;
            
            document.getElementById('totalReal').textContent = 'S/ ' + total.toLocaleString();
            document.getElementById('saldo').textContent = 'S/ ' + saldo.toLocaleString();
            document.getElementById('saldo').style.color = saldo >= 0 ? '#28a745' : '#dc3545';
            
            // Mostrar alerta si est√° en rojo
            const alerta = document.getElementById('alerta');
            if (saldo < 0) {
                alerta.style.display = 'block';
                alerta.innerHTML = '<strong>‚ö†Ô∏è ¬°Atenci√≥n!</strong> Est√°s excediendo tu presupuesto por S/ ' + Math.abs(saldo).toLocaleString();
            } else {
                alerta.style.display = 'none';
            }
        }

        // Inicializar
        window.onload = function() {
            cargarDatos();
            calcular();
        };

        // Auto-guardar cada 30 segundos
        setInterval(function() {
            if (!datos[mesActual]) datos[mesActual] = {};
            
            let hayDatos = false;
            for (let i = 1; i <= 26; i++) {
                const input = document.getElementById('g' + i);
                if (input && input.value) {
                    datos[mesActual]['g' + i] = parseFloat(input.value);
                    hayDatos = true;
                }
            }
            
            if (hayDatos) {
                localStorage.setItem('presupuesto-simple', JSON.stringify(datos));
            }
        }, 30000);
    </script>

</body>
</html>
